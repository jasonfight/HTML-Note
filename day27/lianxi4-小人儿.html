<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>小人儿走路</title>
    <style media="screen">
      div{
        margin: 0 auto;
        margin-top: 50px;
        width: 40px;
        height: 65px;
        position: relative;
        border: 1px solid red;
        overflow: hidden;
      }
      #s{
        position: absolute;
      }
      button{
        margin: 0 auto;
        margin:  0 10px;
      }
      .controlBox{
        width: 320px;
        border: none;
        margin: 0 auto;
      }
    </style>
  </head>
  <body>
    <div id="f">
        <img id="s"src="./image/1.png" alt="">
    </div>
    <div class="controlBox">
        <button id ='front' type="button" >向前走</button>
        <button id ='left' type="button" >向左走</button>
        <button id ='right' type="button" >向右走</button>
        <button id ='back' type="button" >向后走</button>
      </div>
    <script>
    var f = document.getElementById('f');
    var s = document.getElementById('s');
    var front = document.getElementById('front');
    var back = document.getElementById('back');
    var left = document.getElementById('left');
    var right = document.getElementById('right');
    var timer = null;
    var i = 0;



    // 向前走
    front.onclick = (function(){
      clearTimeout(timer)
      i = 0;
      console.log('向前走....');
        s.style.left = '0px';
        s.style.top = '0px';
        function Move(){
          // console.log('123');
          s.style.left = -i*40+'px';
          i++;
          if (i == 4) {
            i = 0
          }
          timer = setTimeout(Move,500);
        }
        Move();
    })
    //向左走
    left.onclick = (function(){
      clearTimeout(timer)
      i = 0
      console.log('向左走....');
        s.style.left = '0px';
        s.style.top = '-65px';
        function Move(){
          // console.log('123');
          s.style.left = -i*40+'px';
          i++;
          if (i >= 4) {
            i = 0
          }
          timer = setTimeout(Move,500);
        }
        Move();
    })
    //向右走
    right.onclick = (function(){
      clearTimeout(timer)
      i = 0
      console.log('向右走....');
        s.style.left = '0px';
        s.style.top = '-130px';
        function Move(){
          // console.log('123');
          s.style.left = -i*40+'px';
          i++;
          if (i == 4) {
            i = 0
          }
          timer = setTimeout(Move,500);
        }
        Move();
    })
//向后走
    back.onclick = (function(){
      clearTimeout(timer)
        i = 0;
      console.log('向后走....');
        s.style.left = '0px';
        s.style.top = '-195px';
        function Move(){
          // console.log('123');
          s.style.left = -i*40+'px';
          i++;
          if (i == 4) {
            i = 0
          }
          timer = setTimeout(Move,500);
        }
        Move();
    })

//

    </script>
  </body>
</html>

    </div>
